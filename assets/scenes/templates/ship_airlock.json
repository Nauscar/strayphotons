{
	"entities": [
		{
			"name": "triggerzone",
			"transform": {
				"parent": "scoperoot",
				"translate": [0, 2, 0],
				"scale": [4, 4.2, 4]
			},
			"script": {
				"prefab": "template",
				"parameters": { "source": "laser_cube" }
			},
			"signal_output": {},
			"trigger_area": "Box"
		},
		{
			"name": "door-in",
			"transform": {
				"parent": "scoperoot",
				"translate": [0, 0, -1.95],
				"rotate": [90, 0, 1, 0],
				"scale": [1, 1.5, 2.3]
			},
			"script": {
				"prefab": "template",
				"parameters": { "source": "slide_door" }
			}
		},
		{
			"name": "door-out",
			"transform": {
				"parent": "scoperoot",
				"translate": [0, 0, 2],
				"rotate": [90, 0, 1, 0],
				"scale": [1, 1.5, 2.3]
			},
			"signal_bindings": {
				"door_open": "station-center:elevator.door/door_open"
			},
			"script": {
				"prefab": "template",
				"parameters": { "source": "slide_door" }
			}
		},
		{
			"name": "button-out",
			"transform": {
				"parent": "scoperoot",
				"translate": [1.95, 1.1, 1]
			},
			"signal_output": {},
			"event_bindings": {
				"/button/press": [
					"station-center:elevator.door/set_signal/open_request",
					"button-out/set_signal/light_enable"
				]
			},
			"script": [
				{
					"prefab": "template",
					"parameters": {
						"source": "button"
					}
				},
				{
					"onTick": "signal_from_event",
					"parameters": {
						"outputs": ["light_enable"]
					}
				},
				{
					"onTick": "edge_trigger", 
					"parameters": {
						"input_expr": "button-out/light_enable && door-out/door_open && door-out.left-panel/animation_state == 1",
						"output_event": "/clear_signal/light_enable"
					}
				}
			]
		},
		{
			"name": "floor",
			"renderable": {
				"model": "box"
			},
			"transform": {
				"parent": "scoperoot",
				"translate": [0, -0.25, 0],
				"scale": [4, 0.5, 4.15]
			},
			"physics": {
				"shapes": {
					"model": "box"
				},
				"type": "Static"
			}
		},
		{
			"name": "left-wall",
			"renderable": {
				"model": "box"
			},
			"transform": {
				"parent": "scoperoot",
				"translate": [2.2, 2, 0],
				"scale": [0.5, 4.1, 4]
			},
			"physics": {
				"shapes": {
					"model": "box"
				},
				"type": "Static"
			}
		},
		{
			"name": "right-wall",
			"renderable": {
				"model": "box"
			},
			"transform": {
				"parent": "scoperoot",
				"translate": [-2.2, 2, 0],
				"scale": [0.5, 4.1, 4]
			},
			"physics": {
				"shapes": {
					"model": "box"
				},
				"type": "Static"
			}
		},
		{
			"name": "ceiling",
			"renderable": {
				"model": "box"
			},
			"transform": {
				"parent": "scoperoot",
				"translate": [0, 4, 0],
				"scale": [4, 0.1, 4]
			},
			"physics": {
				"shapes": {
					"model": "box"
				},
				"type": "Static"
			}
		},
		{
			"name": "light",
			"transform": {
				"parent": "scoperoot",
				"translate": [0, 3.9, 0],
				"rotate": [[270, 1, 0, 0]]
			},
			"light": {
				"tint": [0.5, 0.5, 1],
				"intensity": 300,
				"spotAngle": 60
			},
			"script": {
				"prefab": "template",
				"parameters": { "source": "spotlight" }
			}
		}
	]
}
