{
	"components": {
		"sound": {
			"file": "dryer.ogg",
			"type": "Ambisonic",
			"volume": 0.1
		},
		"animation": {
			"interpolation": "Cubic",
			"states": [
				{
					"delay": 10,
					"translate": [0, 160, 0],
					"translate_tangent": [0, 0, 0]
				},
				{
					"delay": 10,
					"translate": [0, 120, 0],
					"translate_tangent": [0, -7, 0]
				},
				{
					"delay": 10,
					"translate": [0, 40, 0],
					"translate_tangent": [0, -7, 0]
				},
				{
					"delay": 10,
					"translate": [0, 0.1, 0],
					"translate_tangent": [0, 0, 0]
				}
			]
		},
		"signal_output": {},
		"signal_bindings": {
			"at_floor": "scoperoot/at_floor_source && scoperoot/at_floor_delayed",
			"at_floor_source": "scoperoot/animation_state == 0 || scoperoot/animation_state == 100"
		},
		"event_input": {},
		"script": [
			{
				"onTick": "elevator"
			},
			{
				"onTick": "debounce",
				"parameters": {
					"delay_ms": 1000,
					"input": "scoperoot/at_floor_source",
					"output": "at_floor_delayed"
				}
			}
		],
		"transform": {
			"translate": [0, 160, 0]
		}
	},
	"entities": [
		{
			"name": "platform",
			"renderable": {
				"model": "box"
			},
			"transform": {
				"parent": "scoperoot",
				"translate": [0, -0.25, -1],
				"scale": [4.2, 0.5, 4]
			},
			"physics": {
				"shapes": {
					"model": "box"
				},
				"type": "Kinematic"
			},
			"trigger_group": "Object"
		},
		{
			"_comment": "ceiling",
			"renderable": {
				"model": "box"
			},
			"transform": {
				"parent": "scoperoot",
				"translate": [0, 4.15, -1],
				"scale": [4.2, 0.5, 4]
			},
			"physics": {
				"shapes": {
					"model": "box"
				},
				"type": "Kinematic"
			},
			"trigger_group": "Object"
		},
		{
			"_comment": "right front wall",
			"renderable": {
				"model": "box"
			},
			"transform": {
				"parent": "scoperoot",
				"translate": [2, 2, -2.07],
				"scale": [0.2, 4, 1.85]
			},
			"physics": {
				"shapes": {
					"model": "box"
				},
				"type": "Kinematic"
			}
		},
		{
			"_comment": "right back wall",
			"renderable": {
				"model": "box"
			},
			"transform": {
				"parent": "scoperoot",
				"translate": [2, 2, 0.07],
				"scale": [0.2, 4, 1.85]
			},
			"physics": {
				"shapes": {
					"model": "box"
				},
				"type": "Kinematic"
			}
		},
		{
			"_comment": "left front wall",
			"renderable": {
				"model": "box"
			},
			"transform": {
				"parent": "scoperoot",
				"translate": [-2, 2, -2.07],
				"scale": [0.2, 4, 1.85]
			},
			"physics": {
				"shapes": {
					"model": "box"
				},
				"type": "Kinematic"
			}
		},
		{
			"_comment": "left back wall",
			"renderable": {
				"model": "box"
			},
			"transform": {
				"parent": "scoperoot",
				"translate": [-2, 2, 0.07],
				"scale": [0.2, 4, 1.85]
			},
			"physics": {
				"shapes": {
					"model": "box"
				},
				"type": "Kinematic"
			}
		},
		{
			"_comment": "back left wall",
			"renderable": {
				"model": "box"
			},
			"transform": {
				"parent": "scoperoot",
				"translate": [-1.07, 2, 0.9],
				"scale": [1.85, 4, 0.2]
			},
			"physics": {
				"shapes": {
					"model": "box"
				},
				"type": "Kinematic"
			}
		},
		{
			"_comment": "back right wall",
			"renderable": {
				"model": "box"
			},
			"transform": {
				"parent": "scoperoot",
				"translate": [1.07, 2, 0.9],
				"scale": [1.85, 4, 0.2]
			},
			"physics": {
				"shapes": {
					"model": "box"
				},
				"type": "Kinematic"
			}
		},
		{
			"name": "control",
			"transform": {
				"parent": "scoperoot",
				"translate": [1.95, 1.1, -2]
			},
			"script": {
				"prefab": "template",
				"parameters": {
					"source": "button"
				}
			}
		},
		{
			"transform": {
				"parent": "scoperoot"
			},
			"laser_line": {
				"color": [0, 0, 1],
				"points": [
					[-1.95, 1.5, -2.9],
					[1.95, 1.5, -2.9]
				]
			}
		},
		{
			"name": "light",
			"transform": {
				"parent": "scoperoot",
				"translate": [0, 3.85, -1],
				"rotate": [[270, 1, 0, 0]]
			},
			"light": {
				"tint": [1, 0.5, 0.5],
				"intensity": 300,
				"spotAngle": 50
			},
			"script": {
				"prefab": "template",
				"parameters": { "source": "spotlight" }
			}
		},
		{
			"name": "door",
			"transform": {
				"parent": "scoperoot",
				"translate": [0, 0.0, -2.9],
				"rotate": [90, 0, 1, 0],
				"scale": [1, 1.5, 2.3]
			},
			"event_input": {},
			"signal_output": {},
			"signal_bindings": {
				"door_open": "scoperoot/at_floor && door/open_request"
			},
			"event_bindings": {
				"/clear_signal/open_request": "door/clear_signal/open_request_delayed"
			},
			"script": [
				{
					"prefab": "template",
					"parameters": { "source": "slide_door" }
				},
				{
					"onTick": "signal_from_event",
					"parameters": {
						"outputs": ["open_request", "open_request_delayed"]
					}
				},
				{
					"onTick": "debounce",
					"parameters": {
						"delay_ms": 10000,
						"input": "door/open_request",
						"output": "open_request_delayed"
					}
				},
				{
					"onTick": "edge_trigger",
					"parameters": {
						"input_expr": "door/open_request && door/open_request_delayed",
						"output_event": "/clear_signal/open_request"
					}
				}
			]
		}
	]
}
